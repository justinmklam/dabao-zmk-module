# Basic GPIO matrix configuration
CONFIG_GPIO=y

# Enable matrix polling for reliability
CONFIG_ZMK_KSCAN_MATRIX_POLLING=y

# Fix picolibc symbol conflicts - use newlib instead
CONFIG_PICOLIBC=n
CONFIG_NEWLIB_LIBC=y

# Enable I2C support for MCP23017 expander
CONFIG_PINCTRL=y
CONFIG_I2C=y

CONFIG_INPUT=y

CONFIG_ZMK_POINTING=y
CONFIG_ZMK_MOUSE=y

# UART-based PS/2 driver config
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_PS2=y
CONFIG_PS2_UART=y

# Debug I2C communication (remove after testing)
CONFIG_I2C_LOG_LEVEL_DBG=y
CONFIG_LOG=y
CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS=8000
CONFIG_ZMK_USB_LOGGING=n
CONFIG_UART_LOG_LEVEL_DBG=y
CONFIG_PS2_LOG_LEVEL_DBG=y
CONFIG_INPUT_LOG_LEVEL_DBG=y
CONFIG_ZMK_LOG_LEVEL_INF=y
# Note: MCP230xx GPIO expander support is built into ZMK when using compatible = "microchip,mcp230xx"
# CONFIG_ZMK_KSCAN_COMPOSITE_DRIVER is automatically selected when using composite kscan in devicetree
